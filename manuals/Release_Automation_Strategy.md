# Release Automation Strategy (Draft)

To prevent the version number from being manually forgotten or incorrectly incremented during future releases, we should establish an automated pipeline.

Currently, we manage the version via `package.json` (`"version": "2.4.0"`), which is dynamically read by the React frontend for the Admin Panel during runtime.

## Target Scenario: The "One-Click Release"

Instead of updating the file manually, we can leverage the built-in functions of Node/npm, bundled in an automatic script.

### 1. Utilizing the `npm version` Command
Node natively includes the `npm version <major|minor|patch>` command.
This command automatically executes the following:
1. It updates the version number in `package.json` according to Semantic Versioning rules.
2. It creates an automatic Git commit with the message `X.X.X`.
3. It creates an automatic Git tag `vX.X.X`.

### 2. A Centralized Release Script (scripts/release.js)
We will write a small interactive Node script that controls the release process:

```javascript
// Example Script Flow:
1. Script verifies that we are on the main branch and have no uncommitted changes.
2. Script tests the CI safeguards: `npm run check:all` and `npm test`. If any test fails, the release aborts.
3. Script asks in the terminal: "Is this a Major, Minor, or Patch release?"
4. Script executes `npm version <selection>` (updates package.json & commits).
5. Script builds the project: `npm run build`
6. Script pushes the new commit and the tag to GitHub: `git push --follow-tags`
```

### 3. Benefits of this Structure
- **No Thinking Required:** You only need to call `npm run release`.
- **Consistency:** The `package.json` is always the absolute "Source of Truth". The Admin Panel reads this value dynamically.
- **Error Prevention:** The tag and the commit *always* match the version in the app, as they are generated by the system in the exact same millisecond.
- **Security:** A release only happens if all tests (i18n, Theme, E2E) pass successfully.

*(This script could be scheduled for Release 2.6 and implemented in 10-15 minutes)*
