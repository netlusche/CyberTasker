
> cyber-tasker@2.4.0 test
> vitest run


 RUN  v3.2.4 /Users/frank/Antigravity/CyberTasker

(node:12648) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/test/i18n.test.js (4 tests | 4 failed) 9ms
   Ã— i18n Configuration > should initialize with German as the default fallback language 4ms
     â†’ expected [ 'en' ] to include 'de'
   Ã— i18n Configuration > should have translations for German and English 1ms
     â†’ expected false to be true // Object.is equality
   Ã— i18n Configuration > should translate a header key correctly in German 2ms
     â†’ expected 'header.system_help' to be 'SYSTEM HILFE' // Object.is equality
   Ã— i18n Configuration > should translate a header key correctly in English 1ms
     â†’ expected 'header.system_help' to be 'SYSTEM HELP' // Object.is equality
(node:12647) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/test/LanguageSwitcher.test.jsx (3 tests | 3 failed) 18ms
   Ã— LanguageSwitcher Component > displays the current language code (DE) 15ms
     â†’ Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— LanguageSwitcher Component > opens the overlay when clicked 1ms
     â†’ Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— LanguageSwitcher Component > changes language when an option is selected 2ms
     â†’ Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

â¯â¯â¯â¯â¯â¯ Failed Suites 11 â¯â¯â¯â¯â¯â¯

 FAIL  src/test/App.test.js [ src/test/App.test.js ]
Error: Failed to parse source for import analysis because the content contains invalid JS syntax. If you are using JSX, make sure to name the file with the .jsx or .tsx extension.
  Plugin: vite:import-analysis
  File: /Users/frank/Antigravity/CyberTasker/src/test/App.test.js:20:30
  18 |              <I18nextProvider i18n={i18n}>
  19 |                  <App />
  20 |              </I18nextProvider>
     |                                ^
  21 |          );
  22 |  
 â¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:28999:43
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:28996:14
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27082:10
 â¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:28797:14
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:22670:26

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/18]â¯

 FAIL  tests/e2e/01-auth.spec.js [ tests/e2e/01-auth.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/01-auth.spec.js:3:6
      1| import { test, expect } from '@playwright/test';
      2| 
      3| test.describe('TS-01: Identity & Security Hardening', () => {
       |      ^
      4| 
      5|     test('TS-01.1: Registration & Initial Setup', async ({ page }) => {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/18]â¯

 FAIL  tests/e2e/02-directive-management.spec.js [ tests/e2e/02-directive-management.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/02-directive-management.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Directive Management Pagination', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/18]â¯

 FAIL  tests/e2e/03-theme-persistence.spec.js [ tests/e2e/03-theme-persistence.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/03-theme-persistence.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Theme Persistence Pagination', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/18]â¯

 FAIL  tests/e2e/04-admin-roster-pagination.spec.js [ tests/e2e/04-admin-roster-pagination.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/04-admin-roster-pagination.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Admin Roster Pagination', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/18]â¯

 FAIL  tests/e2e/05-security-policies.spec.js [ tests/e2e/05-security-policies.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/05-security-policies.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('TS-04: Fleet Administration - Security Policies', () =>â€¦
       |      ^
      5| 
      6|     test('TS-04.3: Strict Password Policy Enforcement', async ({ page â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/18]â¯

 FAIL  tests/e2e/06-extended-features.spec.js [ tests/e2e/06-extended-features.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/06-extended-features.spec.js:3:6
      1| import { test, expect } from '@playwright/test';
      2| 
      3| test.describe('TS-08: Linguistic Uplink & Identity Termination', () =>â€¦
       |      ^
      4| 
      5|     test('TS-08.1: Language Switching Persistence', async ({ page }) =â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/18]â¯

 FAIL  tests/e2e/07-deep-directives.spec.js [ tests/e2e/07-deep-directives.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/07-deep-directives.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands.js';
      3| 
      4| test.describe('Deep Directives & Dossier Flow', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         // Use the dev server URL

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/18]â¯

 FAIL  tests/e2e/08-dashboard-qol.spec.js [ tests/e2e/08-dashboard-qol.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/08-dashboard-qol.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Dashboard Quality of Life Features (Release 2.4)', () =â€¦
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/18]â¯

 FAIL  tests/e2e/09-release-2-4-features.spec.js [ tests/e2e/09-release-2-4-features.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/09-release-2-4-features.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Release 2.4 Features', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/18]â¯

 FAIL  tests/e2e/10-calendar-projections.spec.js [ tests/e2e/10-calendar-projections.spec.js ]
Error: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._describe node_modules/playwright/lib/common/testType.js:115:24
 â¯ Function.describe node_modules/playwright/lib/transform/transform.js:282:12
 â¯ tests/e2e/10-calendar-projections.spec.js:4:6
      2| import { loginAsAdmin } from './auth-commands';
      3| 
      4| test.describe('Calendar Holo-Projections Limits (Release 2.4)', () => {
       |      ^
      5|     test.beforeEach(async ({ page }) => {
      6|         await loginAsAdmin(page);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[11/18]â¯


â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/test/LanguageSwitcher.test.jsx > LanguageSwitcher Component > displays the current language code (DE)
TestingLibraryElementError: Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/test/LanguageSwitcher.test.jsx:19:23
     17|             </I18nextProvider>
     18|         );
     19|         expect(screen.getByText('DE')).toBeInTheDocument();
       |                       ^
     20|     });
     21| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[12/18]â¯

 FAIL  src/test/LanguageSwitcher.test.jsx > LanguageSwitcher Component > opens the overlay when clicked
TestingLibraryElementError: Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/test/LanguageSwitcher.test.jsx:29:32
     27|         );
     28| 
     29|         const trigger = screen.getByText('DE');
       |                                ^
     30|         fireEvent.click(trigger);
     31| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[13/18]â¯

 FAIL  src/test/LanguageSwitcher.test.jsx > LanguageSwitcher Component > changes language when an option is selected
TestingLibraryElementError: Unable to find an element with the text: DE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ src/test/LanguageSwitcher.test.jsx:45:32
     43|         );
     44| 
     45|         fireEvent.click(screen.getByText('DE'));
       |                                ^
     46|         fireEvent.click(screen.getByText('English'));
     47| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[14/18]â¯

 FAIL  src/test/i18n.test.js > i18n Configuration > should initialize with German as the default fallback language
AssertionError: expected [ 'en' ] to include 'de'
 â¯ src/test/i18n.test.js:6:42
      4| describe('i18n Configuration', () => {
      5|     it('should initialize with German as the default fallback languageâ€¦
      6|         expect(i18n.options.fallbackLng).toContain('de');
       |                                          ^
      7|     });
      8| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[15/18]â¯

 FAIL  src/test/i18n.test.js > i18n Configuration > should have translations for German and English
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 â¯ src/test/i18n.test.js:10:61
      8| 
      9|     it('should have translations for German and English', () => {
     10|         expect(i18n.hasResourceBundle('de', 'translation')).toBe(true);
       |                                                             ^
     11|         expect(i18n.hasResourceBundle('en', 'translation')).toBe(true);
     12|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[16/18]â¯

 FAIL  src/test/i18n.test.js > i18n Configuration > should translate a header key correctly in German
AssertionError: expected 'header.system_help' to be 'SYSTEM HILFE' // Object.is equality

Expected: [32m"SYSTEM HILFE"[39m
Received: [31m"header.system_help"[39m

 â¯ src/test/i18n.test.js:16:46
     14|     it('should translate a header key correctly in German', () => {
     15|         i18n.changeLanguage('de');
     16|         expect(i18n.t('header.system_help')).toBe('SYSTEM HILFE');
       |                                              ^
     17|     });
     18| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[17/18]â¯

 FAIL  src/test/i18n.test.js > i18n Configuration > should translate a header key correctly in English
AssertionError: expected 'header.system_help' to be 'SYSTEM HELP' // Object.is equality

Expected: [32m"SYSTEM HELP"[39m
Received: [31m"header.system_help"[39m

 â¯ src/test/i18n.test.js:21:46
     19|     it('should translate a header key correctly in English', () => {
     20|         i18n.changeLanguage('en');
     21|         expect(i18n.t('header.system_help')).toBe('SYSTEM HELP');
       |                                              ^
     22|     });
     23| });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[18/18]â¯


 Test Files  13 failed (13)
      Tests  7 failed (7)
   Start at  23:58:41
   Duration  2.28s (transform 170ms, setup 611ms, collect 189ms, tests 28ms, environment 3.57s, prepare 721ms)

